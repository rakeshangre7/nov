<?xml version="1.0" encoding="utf-8" ?>

<configuration xmlns:patch="http://www.sitecore.net/xmlconfig/" xmlns:role="http://www.sitecore.net/xmlconfig/role/">
  <sitecore>
    <api>
      <GraphQL>
        <defaults>
          <security>
            <publicService type="Sitecore.Services.GraphQL.Hosting.Security.GraphQLSecurity, Sitecore.Services.GraphQL">
              <complexityConfiguration type="GraphQL.Validation.Complexity.ComplexityConfiguration, GraphQL">
                <maxDepth>50</maxDepth>
                <maxComplexity>50000</maxComplexity>
                <fieldImpact>2</fieldImpact>
              </complexityConfiguration>
            </publicService>
          </security>
          <content>
            <fieldTypeMappings>
              <inputTypeMapping type="Sitecore.Services.GraphQL.Content.Mutations.FieldTypeToJsonTypeMapper, Sitecore.Services.GraphQL.Content">
                <typeMapping hint="raw:AddTypeMapping">
                  <map type="Sitecore.Services.GraphQL.Content.Mutations.JsonFields.JsonGeneralLinkField, Sitecore.Services.GraphQL.Content" fieldName="general link with search"/>
                </typeMapping>
              </inputTypeMapping>
            </fieldTypeMappings>
          </content>

        </defaults>
      </GraphQL>
    </api>
    <mediaLibrary>
      <mediaTypes>
        <mediaType name="PDF file" extensions="pdf">
          <!-- New section -->
          <thumbnails>
            <generator type="Sitecore.Resources.Media.MediaThumbnailGenerator, Sitecore.Kernel">
              <extension>png</extension>
            </generator>
            <staticFile>/sitecore/shell/Themes/Standard/Images/pdf_icon.png</staticFile>
          </thumbnails>
          <!-- end:New section -->
        </mediaType>
      </mediaTypes>
    </mediaLibrary>
    <pipelines>
      <group groupName="layoutService">
        <pipelines>
          <getFieldSerializer performanceCritical="true" >
            <processor type="Sitecore.XA.Feature.LayoutServices.Integration.Pipelines.GetFieldSerializer.GetGeneralLinkFieldSerializer, Sitecore.XA.Feature.LayoutServices.Integration">
              <FieldTypes hint="list">
                <fieldType id="2">general link with search</fieldType>
              </FieldTypes>
            </processor>
          </getFieldSerializer>
        </pipelines>
      </group>
    </pipelines>
  </sitecore>
</configuration>
